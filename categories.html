<!-- categories.html -->
<!-- Copyright (C) The Greek Directory, 2025-present. All rights reserved. This source code is proprietary and no part may not be used, reproduced, or distributed without written permission from The Greek Directory. For more information, visit https://thegreekdirectory.org/legal. -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    
    <title>Categories - The Greek Directory</title>
    
    <!-- Copyright (C) The Greek Directory, 2025-present. All rights reserved. -->
    
    <link rel="manifest" href="/manifest.json">
    <link rel="icon" href="https://static.thegreekdirectory.org/img/logo/bluefavicon.png" media="(prefers-color-scheme: light)">
    <link rel="icon" href="https://static.thegreekdirectory.org/img/logo/whitefavicon.png" media="(prefers-color-scheme: dark)">
    <link rel="apple-touch-icon" href="https://static.thegreekdirectory.org/img/logo/icon-192.png">
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link rel="stylesheet" href="css/index.css">
    <link rel="stylesheet" href="css/pwa.css">
    
    <!-- Copyright (C) The Greek Directory, 2025-present. All rights reserved. -->
    
    <style>
        /* Inline splash screen styles */
        .pwa-splash {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            transition: opacity 0.5s ease, visibility 0.5s ease;
        }
        
        .pwa-splash.fade-out {
            opacity: 0;
            visibility: hidden;
        }
        
        .pwa-splash-logo {
            width: 120px;
            height: auto;
        }
        
        @media (prefers-color-scheme: dark) {
            .pwa-splash {
                background: #000000;
            }
        }
        
        /* Copyright (C) The Greek Directory, 2025-present. All rights reserved. */
        
        /* Category card styles */
        .category-card {
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: visible;
            background: white;
            border-radius: 12px;
            padding: 16px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }
        
        body.theme-dark .category-card {
            background: #2a2a2a;
        }
        
        .category-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
        }
        
        .category-card.expanded {
            background: linear-gradient(135deg, #045093 0%, #0668ba 100%);
            color: white;
            box-shadow: 0 8px 24px rgba(4, 80, 147, 0.3);
        }
        
        /* Copyright (C) The Greek Directory, 2025-present. All rights reserved. */
        
        .category-icon {
            font-size: 2.5rem;
            transition: transform 0.3s;
            margin-bottom: 8px;
        }
        
        .category-card:hover .category-icon {
            transform: scale(1.1);
        }
        
        .category-name {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 4px;
            text-align: center;
        }
        
        .category-count {
            font-size: 11px;
            opacity: 0.7;
            text-align: center;
        }
        
        /* Copyright (C) The Greek Directory, 2025-present. All rights reserved. */
        
        .subcategories-container {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
            margin-top: 12px;
        }
        
        .subcategories-container.expanded {
            max-height: 600px;
            overflow-y: auto;
        }
        
        .subcategory-tag {
            display: inline-block;
            padding: 6px 12px;
            margin: 4px;
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.2s;
            border: 2px solid transparent;
        }
        
        /* Copyright (C) The Greek Directory, 2025-present. All rights reserved. */
        
        .category-card.expanded .subcategory-tag {
            background: rgba(255, 255, 255, 0.15);
            color: white;
            border-color: rgba(255, 255, 255, 0.3);
        }
        
        .subcategory-tag:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.05);
        }
        
        .subcategory-tag.selected {
            background: #D4AF37;
            color: white;
            border-color: #D4AF37;
        }
        
        .mode-toggle {
            display: inline-flex;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            padding: 4px;
            margin: 8px 0;
        }
        
        /* Copyright (C) The Greek Directory, 2025-present. All rights reserved. */
        
        .mode-option {
            padding: 6px 14px;
            border-radius: 6px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.2s;
            border: none;
            background: transparent;
            color: white;
            font-weight: 500;
        }
        
        .mode-option.active {
            background: rgba(255, 255, 255, 0.3);
            font-weight: 600;
        }
        
        .browse-button {
            margin-top: 12px;
            width: 100%;
            padding: 12px 16px;
            background: #D4AF37;
            color: white;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        /* Copyright (C) The Greek Directory, 2025-present. All rights reserved. */
        
        .browse-button:hover {
            background: #c49b2a;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        
        .search-container {
            margin-bottom: 24px;
            position: sticky;
            top: 0;
            z-index: 10;
            background: #f9fafb;
            padding: 16px 0;
        }
        
        body.theme-dark .search-container {
            background: #1a1a1a;
        }
        
        body.pwa-mode .search-container {
            top: calc(var(--status-bar-height) + 8px);
        }
        
        /* Copyright (C) The Greek Directory, 2025-present. All rights reserved. */
        
        .search-input {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e5e7eb;
            border-radius: 10px;
            font-size: 15px;
            transition: all 0.2s;
        }
        
        body.theme-dark .search-input {
            background: #2a2a2a;
            border-color: #404040;
            color: #e5e7eb;
        }
        
        .search-input:focus {
            outline: none;
            border-color: #045093;
            box-shadow: 0 0 0 3px rgba(4, 80, 147, 0.1);
        }
        
        .no-results {
            text-align: center;
            padding: 40px 20px;
            color: #6b7280;
        }
        
        body.theme-dark .no-results {
            color: #9ca3af;
        }
        
        /* Copyright (C) The Greek Directory, 2025-present. All rights reserved. */
        
        .categories-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            padding-bottom: 100px;
        }
        
        @media (min-width: 640px) {
            .categories-grid {
                grid-template-columns: repeat(3, 1fr);
                gap: 16px;
            }
        }
        
        @media (min-width: 1024px) {
            .categories-grid {
                grid-template-columns: repeat(4, 1fr);
                gap: 20px;
            }
        }
        
        /* Copyright (C) The Greek Directory, 2025-present. All rights reserved. */
    </style>
</head>
<body class="bg-gray-50">
    <!-- Header (hidden in PWA mode) -->
    <div data-partial="header"></div>
    
    <!-- Copyright (C) The Greek Directory, 2025-present. All rights reserved. -->
    
    <div class="max-w-7xl mx-auto px-4 py-6">
        <div class="mb-6 text-center">
            <h1 class="text-3xl font-bold text-gray-900 mb-2">Browse Categories</h1>
            <p class="text-gray-600 text-sm">Discover Greek-owned businesses by category</p>
        </div>
        
        <div class="search-container">
            <input 
                type="text" 
                id="categorySearch" 
                class="search-input" 
                placeholder="Search categories and subcategories..."
                autocomplete="off"
            >
        </div>
        
        <div id="categoriesGrid" class="categories-grid">
            <!-- Populated by JavaScript -->
        </div>
        
        <div id="noResults" class="no-results" style="display: none;">
            <div class="text-4xl mb-3">üîç</div>
            <p class="text-lg font-semibold mb-1">No matches found</p>
            <p class="text-sm">Try a different search term</p>
        </div>
    </div>
    
    <!-- Footer (hidden in PWA mode) -->
    <div data-partial="footer"></div>
    
    <!-- Copyright (C) The Greek Directory, 2025-present. All rights reserved. -->
    
    <script src="js/pwa/storage.js"></script>
    <script src="js/pwa/app.js"></script>
    <script src="js/pwa/dock.js"></script>
    <script src="js/partials-loader.js"></script>
    
    <script>
        // Copyright (C) The Greek Directory, 2025-present. All rights reserved.
        
        const CATEGORIES = {
            'Automotive & Transportation': {
                icon: 'üöó',
                subcategories: ['Auto Detailer', 'Auto Repair Shop', 'Car Dealer', 'Taxi & Limo Service']
            },
            'Beauty & Health': {
                icon: 'üíÖ',
                subcategories: ['Barbershops', 'Esthetician', 'Hair Salons', 'Nail Salon', 'Spas', 'Chiropractor', 'Dentist', 'Doctor', 'Nutritionist', 'Optometrist', 'Orthodontist', 'Physical Therapist', 'Physical Trainer']
            },
            'Church & Religious Organization': {
                icon: '‚õ™',
                subcategories: ['Church']
            },
            'Cultural/Fraternal Organization': {
                icon: 'üé≠',
                subcategories: ['Dance Troupe', 'Non-Profit', 'Philanthropic Group', 'Society', 'Youth Organization']
            },
            'Education & Community': {
                icon: 'üìö',
                subcategories: ['Childcare', 'Greek School', 'Senior Care', 'Tutor']
            },
            'Entertainment, Arts & Recreation': {
                icon: 'üé®',
                subcategories: ['Band', 'DJs', 'Entertainment Group', 'Photographer', 'Art']
            },
            'Food & Hospitality': {
                icon: 'üçΩÔ∏è',
                subcategories: ['Banquet Hall', 'Catering Service', 'Event Venue', 'Bakeries', 'Deli', 'Pastry Shop', 'Bar', 'Breakfast', 'Coffee', 'Lunch', 'Dinner', 'Restaurant', 'Hotel', 'Airbnb']
            },
            'Grocery & Imports': {
                icon: 'üõí',
                subcategories: ['Butcher Shop', 'Liquor Shop', 'Market', 'Greek Alcohol', 'Honey', 'Olive Oil', 'Food Distribution', 'Food Manufacturer']
            },
            'Home & Construction': {
                icon: 'üè†',
                subcategories: ['Carpenter', 'Electrician', 'General Contractor', 'Handyman', 'HVAC', 'Landscaping', 'Painter', 'Plumber', 'Roofing', 'Tile & Stone Specialist']
            },
            'Industrial & Manufacturing': {
                icon: 'üè≠',
                subcategories: ['Food Manufacturer']
            },
            'Pets & Veterinary': {
                icon: 'üêæ',
                subcategories: ['Veterinarian', 'Pet Accessories Maker']
            },
            'Professional & Business Services': {
                icon: 'üíº',
                subcategories: ['Business Services', 'Consultant', 'CPA', 'Financial Advisor', 'Insurance Agent', 'IT Service & Repair', 'Lawyer', 'Marketing & Creative Agency', 'Notaries', 'Wedding Planner', 'Travel Agency']
            },
            'Real Estate & Development': {
                icon: 'üè¢',
                subcategories: ['Appraiser', 'Broker', 'Developer', 'Lender', 'Property Management', 'Real Estate Agent']
            },
            'Retail & Shopping': {
                icon: 'üõçÔ∏è',
                subcategories: ['Boutique Shop', 'ECommerce', 'Jewelry', 'Souvenir Shop']
            }
        };
        
        // Copyright (C) The Greek Directory, 2025-present. All rights reserved.
        
        const categoryStates = {};
        let allCategories = Object.keys(CATEGORIES);
        
        function initCategories() {
            allCategories.forEach(name => {
                categoryStates[name] = {
                    expanded: false,
                    selectedSubcategories: [],
                    mode: 'any'
                };
            });
            
            renderCategories();
            setupSearch();
        }
        
        // Copyright (C) The Greek Directory, 2025-present. All rights reserved.
        
        function renderCategories(filterTerm = '') {
            const grid = document.getElementById('categoriesGrid');
            const noResults = document.getElementById('noResults');
            
            const searchLower = filterTerm.toLowerCase();
            let matchedCategories = [];
            
            if (searchLower) {
                // Search in category names and subcategories
                matchedCategories = allCategories.filter(name => {
                    const categoryMatch = name.toLowerCase().includes(searchLower);
                    const subcategoryMatch = CATEGORIES[name].subcategories.some(sub => 
                        sub.toLowerCase().includes(searchLower)
                    );
                    return categoryMatch || subcategoryMatch;
                });
            } else {
                matchedCategories = allCategories;
            }
            
            // Copyright (C) The Greek Directory, 2025-present. All rights reserved.
            
            if (matchedCategories.length === 0) {
                grid.style.display = 'none';
                noResults.style.display = 'block';
                return;
            } else {
                grid.style.display = 'grid';
                noResults.style.display = 'none';
            }
            
            grid.innerHTML = matchedCategories.map(name => {
                const data = CATEGORIES[name];
                const state = categoryStates[name];
                const cardId = `card-${name.replace(/[^a-z0-9]/gi, '-')}`;
                const subsId = `subs-${name.replace(/[^a-z0-9]/gi, '-')}`;
                
                return `
                    <div class="category-card ${state.expanded ? 'expanded' : ''}" id="${cardId}">
                        <div class="text-center" onclick="toggleCategory('${name.replace(/'/g, "\\'")}')">
                            <div class="category-icon">${data.icon}</div>
                            <div class="category-name">${name}</div>
                            <div class="category-count">${data.subcategories.length} subcategories</div>
                        </div>
                        
                        <div class="subcategories-container ${state.expanded ? 'expanded' : ''}" id="${subsId}">
                            <div class="mt-3 pt-3 border-t border-white border-opacity-30">
                                <div class="text-center mb-2">
                                    <p class="text-xs font-semibold mb-2 opacity-90">Select subcategories:</p>
                                    <div class="mode-toggle">
                                        <button class="mode-option ${state.mode === 'any' ? 'active' : ''}" data-mode="any" onclick="setMode('${name.replace(/'/g, "\\'")}', 'any', event)">Any</button>
                                        <button class="mode-option ${state.mode === 'all' ? 'active' : ''}" data-mode="all" onclick="setMode('${name.replace(/'/g, "\\'")}', 'all', event)">All</button>
                                    </div>
                                </div>
                                <div class="flex flex-wrap justify-center">
                                    ${data.subcategories.map(sub => `
                                        <div class="subcategory-tag ${state.selectedSubcategories.includes(sub) ? 'selected' : ''}" onclick="toggleSubcategory('${name.replace(/'/g, "\\'")}', '${sub.replace(/'/g, "\\'")}', event)">
                                            ${sub}
                                        </div>
                                    `).join('')}
                                </div>
                                <button class="browse-button" onclick="browseCategory('${name.replace(/'/g, "\\'")}')">
                                    Browse ${name}
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }
        
        // Copyright (C) The Greek Directory, 2025-present. All rights reserved.
        
        function setupSearch() {
            const searchInput = document.getElementById('categorySearch');
            let debounceTimer;
            
            searchInput.addEventListener('input', (e) => {
                clearTimeout(debounceTimer);
                debounceTimer = setTimeout(() => {
                    renderCategories(e.target.value);
                }, 200);
            });
        }
        
        function toggleCategory(categoryName) {
            const state = categoryStates[categoryName];
            state.expanded = !state.expanded;
            
            const cardId = `card-${categoryName.replace(/[^a-z0-9]/gi, '-')}`;
            const subsId = `subs-${categoryName.replace(/[^a-z0-9]/gi, '-')}`;
            
            const card = document.getElementById(cardId);
            const subs = document.getElementById(subsId);
            
            if (state.expanded) {
                card.classList.add('expanded');
                subs.classList.add('expanded');
            } else {
                card.classList.remove('expanded');
                subs.classList.remove('expanded');
            }
        }
        
        // Copyright (C) The Greek Directory, 2025-present. All rights reserved.
        
        function toggleSubcategory(categoryName, subcategory, event) {
            event.stopPropagation();
            
            const state = categoryStates[categoryName];
            const index = state.selectedSubcategories.indexOf(subcategory);
            
            if (index > -1) {
                state.selectedSubcategories.splice(index, 1);
                event.target.classList.remove('selected');
            } else {
                state.selectedSubcategories.push(subcategory);
                event.target.classList.add('selected');
            }
        }
        
        function setMode(categoryName, mode, event) {
            event.stopPropagation();
            
            const state = categoryStates[categoryName];
            state.mode = mode;
            
            const cardId = `card-${categoryName.replace(/[^a-z0-9]/gi, '-')}`;
            const card = document.getElementById(cardId);
            const modeButtons = card.querySelectorAll('.mode-option');
            
            modeButtons.forEach(btn => {
                if (btn.dataset.mode === mode) {
                    btn.classList.add('active');
                } else {
                    btn.classList.remove('active');
                }
            });
        }
        
        // Copyright (C) The Greek Directory, 2025-present. All rights reserved.
        
        function browseCategory(categoryName) {
            const state = categoryStates[categoryName];
            
            let url = `/listings.html?category=${encodeURIComponent(categoryName)}`;
            
            if (state.selectedSubcategories.length > 0) {
                url += `&subcategories=${encodeURIComponent(state.selectedSubcategories.join(','))}`;
                url += `&submode=${state.mode}`;
            }
            
            window.location.href = url;
        }
        
        // Copyright (C) The Greek Directory, 2025-present. All rights reserved.
        
        document.addEventListener('DOMContentLoaded', () => {
            initCategories();
        });
        
        // Copyright (C) The Greek Directory, 2025-present. All rights reserved.
    </script>
</body>
</html>
<!-- Copyright (C) The Greek Directory, 2025-present. All rights reserved. This source code is proprietary and no part may not be used, reproduced, or distributed without written permission from The Greek Directory. For more information, visit https://thegreekdirectory.org/legal. -->
